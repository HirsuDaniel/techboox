<div class="cvs-wrapper">
  <form [formGroup]="cvForm" (ngSubmit)="onSubmit()" class="mt-5">

    <!-- Image Upload -->
    <div class="mt-3 mb-3">
      <input class="form-control" type="file" placeholder="Upload Image:" (change)="handleFileInput($event)" accept="image/*">
    </div>
  
    <div formGroupName="personal_details">
      <div class="section-title">
        <h3>Personal Details</h3>
      </div>
      <div>
        <input type="text" class="form-control mt-2 mb-2" placeholder="Name" formControlName="name">
      </div>
      <div>
        <input type="email" class="form-control mt-2 mb-2" placeholder="Email"  formControlName="email">
      </div>
      <div>
        <input type="text" class="form-control mt-2 mb-2" placeholder="Address" formControlName="address">
      </div>
      <div>
        <input type="text" class="form-control mt-2 mb-2" placeholder="Phone" formControlName="phone">
      </div>
    </div>
  
    <!-- Experiences -->
    <div formArrayName="experiences" class="mt-5">
      <div class="section-title">
        <h3>Experiences</h3>
        <button class="btn btn-outline-success btn-sm mt-2 mb-2" type="button" (click)="addExperience()">Add Experience</button>
      </div>
      <div *ngFor="let experience of experiences.controls; let i = index" [formGroupName]="i">
        <div>
          <input type="text" class="form-control mt-2 mb-2" placeholder="Title"  formControlName="title">
        </div>
        <div>
          <input type="text" class="form-control mt-2 mb-2" placeholder="Company"  formControlName="company">
        </div>
        <div>
          <input type="date" class="form-control mt-2 mb-2" placeholder="Start Date:"  formControlName="startDate">
        </div>
        <div>
          <input type="date" class="form-control mt-2 mb-2" placeholder="End Date:" formControlName="endDate">
        </div>
        <div>
          <textarea class="form-control mt-2 mb-2" placeholder="Description" formControlName="description"></textarea>
        </div>
        <button class="btn btn-outline-success mt-2 mb-2 btn-sm" type="button" (click)="removeExperience(i)">Remove Experience</button>
      </div>
    </div>
  
    <!-- Education -->
    <div formArrayName="education">
      <div class="section-title">
        <h3>Education</h3>
        <button class="btn btn-outline-success btn-sm mt-2 mb-2"  type="button" (click)="addEducation()">Add Education</button>
      </div>
      <div *ngFor="let education of education.controls; let i = index" [formGroupName]="i">
        <div>
          <input type="text" class="form-control mt-2 mb-2" placeholder="Institution:" formControlName="institution">
        </div>
        <div>
          <input type="text" class="form-control mt-2 mb-2" placeholder="Degree:"  formControlName="degree">
        </div>
        <div>
          <input type="date" class="form-control mt-2 mb-2" placeholder="Start Date:"  formControlName="startDate">
        </div>
        <div>
          <input type="date" placeholder="End Date:"  class="form-control mt-2 mb-2" formControlName="endDate">
        </div>
        <div>
          <textarea class="form-control" placeholder="Description:"  placeformControlName="description"></textarea>
        </div>
        <button class="btn btn-outline-success mt-2 mb-2 btn-sm" type="button" (click)="removeEducation(i)">Remove Education</button>
      </div>
    </div>
  
    <!-- Skills -->
    <div formArrayName="skills">
      <div class="section-title">
        <h3>Skiils</h3>
        <button class="btn btn-outline-success btn-sm mt-2 mb-2" type="button" (click)="addSkill()">Add Skill</button>
      </div>
      <div *ngFor="let skill of skills.controls; let i = index" [formGroupName]="i">
        <div>
          <input type="text" placeholder="Skill" class="form-control mt-2 mb-2" formControlName="name">
        </div>
        <button class="btn btn-outline-success mt-2 mb-2 btn-sm" type="button" (click)="removeSkill(i)">Remove Skill</button>
      </div>
    </div>
    <button class="btn btn-outline-success mb-4 mt-4" type="submit" [disabled]="cvForm.invalid">Submit</button>
  </form>
</div>
